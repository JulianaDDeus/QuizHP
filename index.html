<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Harry Potter</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
</head>
<script src="index.js"></script>
<body>
    <div id="AlertaInicio" class="modal">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Quiz Harry Potter</h2>
                </div>
                <div class="modal-body">
                    <p>Nós, estudantes do 1° ano de desenvolvimento de sistemas da classe descentralizada da 
                       ETEC criamos este quiz para que você possa testar seu conhecimento sobre o 
                       universo Harry Potter! Aproveite e boa sorte!</p>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary" data-dismiss="modal" onclick="Quiz()">Começar quiz</button>
                </div>
            </div>
        </div>
    </div>
    <header>
        <h1 class="display-1">Quiz Harry Potter</h1>
    </header>
    <main>
        <form id="quiz" class="col-8">
        </form>
    </main>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
    <script>
        window.onload = function() {
            var modal = new bootstrap.Modal(document.getElementById('AlertaInicio'));
            modal.show();
        }
        var perguntas = ["Quantos livros da saga Harry Potter existem?", 
                         "Quando foi lançado o primeiro livro?", 
                         "Quais são os nomes dos pais do Harry?", 
                         "Qual o nome da coruja do Harry?", 
                         "Qual desses personagens não é da Sonserina?", 
                         "Qual destas não é uma relíquia dos fundadores?", 
                         "Qual destas não é uma horcrux?",
                         "Qual destas escolas não participou do torneio tribuxo?",
                         "Em que filme Luna Lovegood aparece?",
                         "Qual é o nome do cão de três cabeças que protege o alçapão em Pedra Filosofal?"];

        var alternativas = [["8", "10", "7", "5"],
                            ["2010", "2002", "1985", "1997"],
                            ["Joane e Daniel Potter", "Lily e James Potter", 
                            "Angelina e Brad Potter", "Zendaya e Tom Potter"],
                            ["Adivige", "Edwiges", "Gylfie", "Petúnia"],
                            ["Peter Pettigrew", "Draco Malfoy", "Tom Riddle", "Regulus Black"],
                            ["A espada de Gryffindor", "O anel de Slytherin", 
                            "A diadema de Ravenclaw", "A taça de Hufflepuff"],
                            ["O medalhão de Slytherin", "O diário de Tom Riddle", 
                            "Delphine Lestrange", "Harry Potter"],
                            ["Hogwarts", "Beauxbatons", "Durmstrang", "Clodtoer"],
                            ["Ordem da Fénix", "Pedra Filosofal", "Cálice de Fogo", "Câmara Secreta"],
                            ["Princesa", "Hercules", "Fofo", "Brutus"]];

        var respostas = ["7", "1997", "Lily e James Potter", "Edwiges", "Peter Pettigrew", 
                         "O anel de Slytherin", "Delphine Lestrange", "Clodtoer", "Ordem da Fénix", "Fofo"];
        
        let container = document.getElementById("quiz");
        let alter = document.getElementById("alt");
        var acertos = 0;
        x = 0;
        function Quiz() {
            x = 0;
            MostrarPergunta(x);
        }

        function MostrarPergunta(num) {
            container.innerHTML = "";

            var pergunta = document.createElement("h3");
            pergunta.style = "text-align: center"
            pergunta.innerHTML = perguntas[num];
            container.appendChild(pergunta);

            var Lista = document.createElement("ul");
            Lista.id = "alt";

            for (let i = 0; i < alternativas[num].length; i++) {
                var alt = document.createElement("li");
                alt.classList.add("mb-2");

                var botao = document.createElement("button");
                botao.classList.add("btn", "btn-primary", "btn-block");
                botao.id = alternativas[num][i]
                botao.onclick = function() {
                    Analisar(alternativas[num][i], num);
                };
                botao.innerHTML = alternativas[num][i];

                alt.appendChild(botao);
                Lista.appendChild(alt);
            }

            container.appendChild(Lista);
        }

        function Analisar(resposta, num){
            if(resposta === respostas[num]){
                acertos++;
            }
            num++;
            if(num < 10)
            {
                MostrarPergunta(num);
            }else{
                document.write(acertos);
            }
        }
    </script>
</body>
</html>